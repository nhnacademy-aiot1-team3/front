<!DOCTYPE html>
<html lang="ko" dir="ltr" data-bs-theme="light" data-color-theme="Blue_Theme"
      data-layout="vertical" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin_layout}">

<th:block layout:fragment="content">
    <body>

    <div class="body-wrapper">
        <div class="container-fluid">
            <div class="card bg-info-subtle shadow-none position-relative overflow-hidden mb-4">
                <div class="card-body px-4 py-3">
                    <div class="row align-items-center">
                        <div class="col-9">
                            <h4 class="fw-semibold mb-8">조직 관리 Page</h4>
                        </div>
                        <div class="col-3">
                            <div class="text-center mb-n5">
                                <img
                                        src="../assets/images/breadcrumb/ChatBc.png"
                                        alt=""
                                        class="img-fluid mb-n4"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <ul class="nav nav-pills user-profile-tab" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button
                                class="nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-4"
                                id="pills-information-tab" data-bs-toggle="pill" data-bs-target="#pills-information" type="button" role="tab"
                                aria-controls="pills-information" aria-selected="true">
                            <i class="ti ti-info-circle me-2 fs-6"></i>
                            <span class="d-none d-md-block">Information</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                                class="nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-4"
                                id="pills-sensors-tab" data-bs-toggle="pill" data-bs-target="#pills-sensors" type="button"
                                role="tab" aria-controls="pills-sensors" aria-selected="false">
                            <i class="ti ti-router me-2 fs-6"></i>
                            <span class="d-none d-md-block">Sensor 관리</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                                class="nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-4"
                                id="pills-gateway-controller-tab" data-bs-toggle="pill" data-bs-target="#pills-gateway-controller" type="button"
                                role="tab" aria-controls="pills-gateway-controller" aria-selected="false">
                            <i class="ti ti-access-point me-2 fs-6"></i>
                            <span class="d-none d-md-block">Gateway, Controller 관리</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                                class="nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-4"
                                id="pills-settings-tab" data-bs-toggle="pill" data-bs-target="#pills-settings" type="button"
                                role="tab" aria-controls="pills-settings" aria-selected="false">
                            <i class="ti ti-settings me-2 fs-6"></i>
                            <span class="d-none d-md-block">Settings</span>
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button
                                class="nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-4"
                                id="pills-bills-tab" data-bs-toggle="pill" data-bs-target="#pills-bills" type="button" role="tab"
                                aria-controls="pills-bills" aria-selected="false">
                            <i class="ti ti-user-plus me-2 fs-6"></i>
                            <span class="d-none d-md-block">Owner 조직 신청 요청</span>
                        </button>
                    </li>
                </ul>
                <div class="card-body">
                    <div class="tab-content" id="pills-tabContent">

                        <div class="tab-pane fade show active" id="pills-information" role="tabpanel"
                             aria-labelledby="pills-information-tab" tabindex="0">
                            <div class="card overflow-hidden">
                                <div class="card-body p-0">
                                    <img src="../assets/images/backgrounds/profilebg.jpg" alt="" class="img-fluid">
                                    <div class="row align-items-center">
                                        <div class="col-lg-4 order-lg-1 order-2">
                                            <div class="d-flex align-items-center justify-content-around m-4">
                                                <div class="text-center">
                                                    <i class="ti ti-user-check fs-6 d-block mb-2"></i>
                                                    <h4 class="mb-0 fw-semibold lh-1">3</h4>
                                                    <p class="mb-0 fs-4">Owner</p>
                                                </div>
                                                <div class="text-center">
                                                    <i class="ti ti-eye fs-6 d-block mb-2"></i>
                                                    <h4 class="mb-0 fw-semibold lh-1">15</h4>
                                                    <p class="mb-0 fs-4">Viewer</p>
                                                </div>
                                                <div class="text-center">
                                                    <i class="ti ti-router fs-6 d-block mb-2"></i>
                                                    <h4 class="mb-0 fw-semibold lh-1">10</h4>
                                                    <p class="mb-0 fs-4">Sensor</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 mt-n3 order-lg-2 order-1">
                                            <div class="mt-n5">
                                                <div class="text-center">
                                                    <h5 class="fs-10 mb-0 fw-semibold" th:text="${organization.getOrganizationName()}"></h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 order-last">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="pills-sensors" role="tabpanel"
                             aria-labelledby="pills-sensors-tab" tabindex="0">
                            <div class="col-12">
                                <div class="card w-100 position-relative overflow-hidden mb-0">
                                    <div class="card-body p-4">
                                        <h5 class="card-title fw-semibold">sensor 추가</h5>
                                        <form action=/admin/createSensor method="post">
                                            <input type="hidden" name="organizationId" th:value="${organization.getOrganizationId()}"/>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div>
                                                        <label for="sensorSn" class="form-label">Sensor Sn</label>
                                                        <input type="text" class="form-control" id="sensorSn" name="sensorSn">
                                                    </div>
                                                    <div>
                                                        <label for="sensorName" class="form-label">Sensor Name</label>
                                                        <input type="text" class="form-control" id="sensorName" name="sensorName">
                                                    </div>
                                                    <div>
                                                        <label for="sensorPlace" class="form-label">sensor Place</label>
                                                        <input type="text" class="form-control" id="sensorPlace" name="sensorPlace">
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <div class="d-flex align-items-center justify-content-end mt-4 gap-6">
                                                        <button class="btn btn-primary" type="submit">create</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="card-body p-4">
                                        <h5 class="card-title fw-semibold">센서 목록</h5>
                                        <table id="sensorTable" class="datatable">
                                            <thead>
                                            <tr>
                                                <th>SensorSn</th>
                                                <th>SensorName</th>
                                                <th>SensorPlace</th>
                                                <th></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="sensor: ${sensorList}">
                                                    <td th:text="${sensor.getSensorSn()}">organizationName</td>
                                                    <td th:text="${sensor.getSensorName()}">gatewaySn</td>
                                                    <td th:text="${sensor.getSensorPlace()}">controllerSn</td>
                                                    <td>
                                                        <div class="dropdown dropstart">
                                                            <a href="#" class="text-muted" id="dropdownMenuButton3" data-bs-toggle="dropdown"
                                                               aria-expanded="false">
                                                                <i class="ti ti-dots fs-5"></i>
                                                            </a>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton3">
                                                                <li>
                                                                    <form action=/admin/createSensor method="post">
                                                                        <i class="fs-4 ti ti-edit"></i>
                                                                        <button class="btn btn-light" type="submit">Edit</button>
                                                                    </form>
                                                                </li>
                                                                <li>
                                                                    <form action=/admin/deleteSensor method="post">
                                                                        <input type="hidden" name="organizationId" th:value="${organization.getOrganizationId()}"/>
                                                                        <input type="hidden" name="sensorSn" th:value="${sensor.getSensorSn()}"/>
                                                                            <i class="fs-4 ti ti-trash"></i>
                                                                            <button class="btn btn-light" type="submit">Delete</button>
                                                                    </form>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="tab-pane fade" id="pills-gateway-controller" role="tabpanel"
                             aria-labelledby="pills-gateway-controller-tab" tabindex="0">
                            <div class="col-12">
                                <div class="card w-100 position-relative overflow-hidden mb-0">
                                    <div class="card-body p-4">
                                        <h5 class="card-title fw-semibold">게이트웨이, 컨트롤러 변경</h5>
                                        <form>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div>
                                                        <label for="gatewayInput" class="form-label">변경할 게이트웨이</label>
                                                        <input type="text" class="form-control" id="gatewayInput"
                                                               th:placeholder="${organization.getGatewaySn()}">
                                                    </div>
                                                    <div>
                                                        <label for="controllerInput" class="form-label">변경할 컨트롤러</label>
                                                        <input type="text" class="form-control" id="controllerInput"
                                                               th:placeholder="${organization.getControllerSn()}">
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <div class="d-flex align-items-center justify-content-end mt-4 gap-6">
                                                        <button class="btn btn-primary">Save</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="pills-settings" role="tabpanel" aria-labelledby="pills-settings-tab"
                             tabindex="0">
                                <div class="col-12">
                                    <div class="card w-100 position-relative overflow-hidden mb-0">
                                        <div class="card-body p-4">
                                            <h5 class="card-title fw-semibold">부서명 변경</h5>
                                            <form>
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div>
                                                            <label for="exampleInputtext1" class="form-label">변경할 부서명</label>
                                                            <input type="text" class="form-control" id="exampleInputtext1"
                                                                   th:placeholder="${organization.getOrganizationName()}">
                                                        </div>
                                                    </div>
                                                    <div class="col-12">
                                                        <div class="d-flex align-items-center justify-content-end mt-4 gap-6">
                                                            <button class="btn btn-primary">Save</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            <div class="col-12">
                                <div class="card w-100 position-relative overflow-hidden mb-0">
                                    <div class="card-body p-4">
                                        <h5 class="card-title fw-semibold">부서 삭제</h5>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="d-flex align-items-center justify-content-end mt-4 gap-6">
                                                    <form action=/admin/deleteOrganization method="post">
                                                        <input type="hidden" name="organizationId" th:value="${organization.getOrganizationId()}"/>
                                                        <button class="btn btn-danger" type="submit">조직 삭제</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="pills-bills" role="tabpanel" aria-labelledby="pills-bills-tab"
                             tabindex="0">
                            <div class="widget-content searchable-container list">
                                <div class="card card-body">
                                    <div class="table-responsive">
                                        <table class="table search-table align-middle text-nowrap">
                                            <thead class="header-item">
                                            <th></th>
                                            <th>Id</th>
                                            <th>Email</th>
                                            <th>Role</th>
                                            <th>State</th>
                                            <th>Action</th>
                                            </thead>
                                            <tbody>
                                            <tr class="search-items">
                                                <td>

                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <img src="../assets/images/profile/user-2.jpg" alt="avatar" class="rounded-circle"
                                                             width="35" />
                                                        <div class="ms-3">
                                                            <div class="user-meta-info">
                                                                <h6 class="user-name mb-0" data-name="Emma Adams">Emma Adams</h6>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="usr-email-addr" data-email="adams@mail.com">adams@mail.com</span>
                                                </td>
                                                <td>
                                                    <span class="usr-role" data-role="Boston, USA">Owner</span>
                                                </td>
                                                <td>
                                                    <span class="usr-state" data-state="+1 (070) 123-4567">wait</span>
                                                </td>
                                                <td>
                                                    <div class="action-btn">
                                                        <a href="javascript:void(0)" class="text-primary edit">
                                                            <i class="ti ti-check fs-5"></i>
                                                        </a>
                                                        <a href="javascript:void(0)" class="text-dark delete ms-2">
                                                            <i class="ti ti-x fs-5"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr class="search-items">
                                                <td>

                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <img src="../assets/images/profile/user-2.jpg" alt="avatar" class="rounded-circle"
                                                             width="35" />
                                                        <div class="ms-3">
                                                            <div class="user-meta-info">
                                                                <h6 class="user-name mb-0" data-name="Emma Adams">Emma Adams</h6>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="usr-email-addr" data-email="adams@mail.com">adams@mail.com</span>
                                                </td>
                                                <td>
                                                    <span class="usr-role" data-role="Boston, USA">owner</span>
                                                </td>
                                                <td>
                                                    <span class="usr-state" data-state="+1 (070) 123-4567">wait</span>
                                                </td>
                                                <td>
                                                    <div class="action-btn">
                                                        <a href="javascript:void(0)" class="text-primary edit">
                                                            <i class="ti ti-check fs-5"></i>
                                                        </a>
                                                        <a href="javascript:void(0)" class="text-dark delete ms-2">
                                                            <i class="ti ti-x fs-5"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    </body>
</th:block>

</html>